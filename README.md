# api_final
api final
# API Yatube

## Описание проекта

Yatube — это социальная сеть, позволяющая пользователям публиковать посты, комментировать их и подписываться на других пользователей.
Проект реализован как REST API с использованием Django и Django REST Framework. В качестве аутентификации используется JWT-токен.

Основная функциональность:

* Работа с постами (создание, просмотр, редактирование и удаление своих постов)
* Комментарии к постам
* Группы постов
* Подписки на других пользователей
* Ограничения доступа: анонимные пользователи имеют доступ только для чтения, авторизованные могут создавать и изменять свои данные.

Документация API доступна по адресу: [http://127.0.0.1:8000/redoc/](http://127.0.0.1:8000/redoc/)

---

## Установка

1. Клонируйте репозиторий:

```bash
git clone <URL_репозитория>
cd api_final_yatube/yatube_api
```

2. Создайте виртуальное окружение и активируйте его:

```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows
```

3. Установите зависимости:

```bash
pip install --upgrade pip
pip install -r requirements.txt
pip install djoser django-filter
```

4. Примените миграции:

```bash
python manage.py makemigrations
python manage.py migrate
```

5. Запустите сервер:

```bash
python manage.py runserver
```

---

## Примеры запросов к API

### Посты

* Получить список всех постов:
  `GET /api/posts/`
* Создать новый пост:
  `POST /api/posts/`
  Тело запроса (JSON):

```json
{
  "text": "Текст нового поста",
  "group": 1
}
```

* Получить, изменить или удалить конкретный пост:
  `GET /api/posts/{id}/`
  `PUT /api/posts/{id}/`
  `DELETE /api/posts/{id}/`

### Группы

* Получить список групп:
  `GET /api/groups/`
* Получить информацию о конкретной группе:
  `GET /api/groups/{id}/`

### Подписки

* Получить список своих подписок:
  `GET /api/follow/`
* Подписаться на пользователя:
  `POST /api/follow/`
  Тело запроса:

```json
{
  "following": "username"
}
```

### Комментарии

* Получить список комментариев к посту:
  `GET /api/posts/{post_id}/comments/`
* Создать комментарий:
  `POST /api/posts/{post_id}/comments/`
  Тело запроса:

```json
{
  "text": "Текст комментария"
}
```

### Аутентификация

* Получение JWT-токена:
  `POST /api/v1/auth/jwt/create/`
  Тело запроса:

```json
{
  "username": "user",
  "password": "password"
}
```

* Обновление токена:
  `POST /api/v1/auth/jwt/refresh/`

---

## Примечания

* Анонимные пользователи могут только читать данные.
* Пользователи могут изменять и удалять только свои объекты (посты, комментарии, подписки).
* Для работы с API рекомендуется использовать Postman или любой другой REST-клиент.
* Все эндпоинты соответствуют документации Redoc, доступной по адресу `/redoc/`.
